
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.quadrum-solutions.net/FunctionalDoc/Doc_SACCR/">
      
      
        <link rel="prev" href="../Doc_CEM/">
      
      
        <link rel="next" href="../Doc_CVA/">
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>Standard approach to counterparty credit risk - Mercury Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Poppins";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#standardised-approach-for-counterparty-credit-risk-sa-ccr" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Mercury Documentation" class="md-header__button md-logo" aria-label="Mercury Documentation" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Mercury Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Standard approach to counterparty credit risk
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Mercury Documentation" class="md-nav__button md-logo" aria-label="Mercury Documentation" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Mercury Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Inputs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Inputs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_B4Input/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basel IV new inputs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Transformations and outputs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Transformations and outputs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SNB
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            SNB
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_CRMMona/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Credit risk mitigation - Mona
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_SNBLimitCalculation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Available limit calculation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CRE
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            CRE
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_CRERiskWeights/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Risk weight
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_CRMCA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Credit risk mitigation - Capital adequacy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_CCF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Credit conversion factor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_CMA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collectively managed assets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_CEM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Current exposure method
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Standard approach to counterparty credit risk
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Standard approach to counterparty credit risk
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#used-in-the-following-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Used in the following modules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#legal-references" class="md-nav__link">
    <span class="md-ellipsis">
      Legal references
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    <span class="md-ellipsis">
      Description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#not-covered-yet" class="md-nav__link">
    <span class="md-ellipsis">
      Not covered yet:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#some-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      Some definitions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#some-conceptsprecisions" class="md-nav__link">
    <span class="md-ellipsis">
      Some concepts/precisions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output-tablesfields" class="md-nav__link">
    <span class="md-ellipsis">
      Output tables/fields
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Output tables/fields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_netting_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_netting_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_fx_hedging_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_fx_hedging_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_eq_hedging_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_eq_hedging_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_eq_sub_hedging_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_eq_sub_hedging_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_co_sub_hedging_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_co_sub_hedging_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_ir_hedging_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_ir_hedging_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_cr_hedging_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_cr_hedging_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_co_hedging_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_co_hedging_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_cr_sub_hedging_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_cr_sub_hedging_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core_derivatives_calc" class="md-nav__link">
    <span class="md-ellipsis">
      core_derivatives_calc
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_CVA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Credit valuation adjustment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_CRENettingByIssuer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Netting by issuer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_CREParams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parameters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_LTV/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    B4 - Loan-to-value (LTV)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    MAR
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            MAR
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_MAREquityRisk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Equity Risk
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_MARIRRisk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interest Rate Risk
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_MARForeignExchangeRisk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exchange Rate Risk
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_MARCommodityRisk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Commodity Risk
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_MARPositionPresentationAndNetting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Netting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_MAROptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Options
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LEX
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            LEX
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_LEX/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Large exposure reporting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_LEXParams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parameters
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LIQ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            LIQ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_LIQRetailSmeEligibleFlag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Retail or SME Eligible Flag
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_LIQHighValueDeposit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    High value deposit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_LIQDepositGaranteeCalc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Insured deposit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_LIQWithdrawalLimit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Withdrawal limitation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_LIQOperationalAmountTreatment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operational Amount Treatment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_LIQDerivatives/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Derivatives
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_LIQSecuredFundingAndLending/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Secured Funding And Lending
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_LIQCalculatedAmountsFields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Other Calculated Amount Fields
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    IRRBB
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            IRRBB
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_IRRBB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interest rate risk in the banking book
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7" >
        
          
          <label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    BIS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            BIS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_BISUltimateCountryRiskCalc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ultimate Country Risk Calculation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8" >
        
          
          <label class="md-nav__link" for="__nav_4_8" id="__nav_4_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Other
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8">
            <span class="md-nav__icon md-icon"></span>
            Other
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_Conso/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Consolidation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_Ratings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ratings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_HQLA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HQLA Category
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_Fidu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fiduciary Generation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_Netting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Balance Sheet Netting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_B4Output/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basel IV new outputs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_OnRequestTreatments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    On request treatments
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Transactions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Transactions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_SFTs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security financing transctions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_Mortgages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mortgage-related positions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_Derivatives/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Derivatives
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_Guarantees/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guarantees
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Operations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_ProvisionsAdjustments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Provisions and adjustments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Doc_Interco_Conso/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intercompany transactions & Consolidation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Application guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Application guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ApplicationGuide/UserGuide/Doc_UserGuide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Technical guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            Technical guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ApplicationGuide/TechnicalGuide/Doc_TechnicalRequirements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Technical requirements
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#used-in-the-following-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Used in the following modules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#legal-references" class="md-nav__link">
    <span class="md-ellipsis">
      Legal references
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    <span class="md-ellipsis">
      Description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#not-covered-yet" class="md-nav__link">
    <span class="md-ellipsis">
      Not covered yet:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#some-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      Some definitions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#some-conceptsprecisions" class="md-nav__link">
    <span class="md-ellipsis">
      Some concepts/precisions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output-tablesfields" class="md-nav__link">
    <span class="md-ellipsis">
      Output tables/fields
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Output tables/fields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_netting_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_netting_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_fx_hedging_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_fx_hedging_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_eq_hedging_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_eq_hedging_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_eq_sub_hedging_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_eq_sub_hedging_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_co_sub_hedging_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_co_sub_hedging_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_ir_hedging_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_ir_hedging_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_cr_hedging_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_cr_hedging_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_co_hedging_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_co_hedging_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v_cre_saccr_cr_sub_hedging_set_level" class="md-nav__link">
    <span class="md-ellipsis">
      v_cre_saccr_cr_sub_hedging_set_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core_derivatives_calc" class="md-nav__link">
    <span class="md-ellipsis">
      core_derivatives_calc
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="standardised-approach-for-counterparty-credit-risk-sa-ccr">Standardised Approach for Counterparty Credit Risk (SA-CCR)</h1>
<h2 id="used-in-the-following-modules">Used in the following modules</h2>
<ul>
<li>CRE</li>
</ul>
<h2 id="legal-references">Legal references</h2>
<ul>
<li>Finma circ. 2017/07 cm 32-122</li>
<li>OFR Art. 57</li>
<li>Basel Framework: CRE52</li>
<li><a href="https://www.bis.org/publ/bcbs279.htm">bcbs 279</a></li>
</ul>
<h2 id="description">Description</h2>
<ul>
<li>The exposure at default (EAD) is computed at the netting set level<ul>
<li>Transactions not subject to a netting agreement are interpreted as being a netting set on their own.</li>
<li>Recognized netting agreements are close-out netting and netting by novation (<code>core_positions.NettingAgreementType not in ('CN','NbN')</code>). If these conditions are met, transactions are grouped together in a netting agreement using the field <code>core_positions.NettingSetId</code>. Otherwise, for positions outside netting sets, the position ID <code>core_positions.Id</code> can be used as the netting set ID. </li>
</ul>
</li>
<li>Formula: <script type="math/tex">EAD = alpha * (RC+PFE)</script>, where:<ul>
<li><strong>alpha</strong> = 1.4</li>
<li><strong>RC</strong> = replacement cost<ul>
<li>Distinction between marigined and unmargined netting set:<ul>
<li>A netting set is considered margined if all positions in the netting set have a non-empty field <code>core_positions.MarginAgreementId</code>.</li>
</ul>
</li>
<li>Treatment for <strong>unmargined netting set</strong>.<ul>
<li>
<script type="math/tex">RC = max(V-C;0)</script>, where:<ul>
<li>V = sum of replacement value (<code>core_derivatives_calc.ReplacementValue</code>) of the derivatives in the netting set.</li>
<li>C = net collateral amount held (after haircut), allocated to that netting set, i.e. <script type="math/tex">\text{collateral received form the counterparty - collateral posted by the bank to the counterparty}</script> &rarr; documented below.</li>
</ul>
</li>
</ul>
</li>
<li>Treatment for <strong>margined transactions</strong><ul>
<li>
<script type="math/tex">RC = max(V-C;TH+MTA-NICA;0)</script>
<ul>
<li>V and C: see definitions above</li>
<li>TH, MTA and NICA (largest exposure that would not trigger a variation margin call): <code>list_margin_agreements.TH, list_margin_agreements.MTA, list_margin_agreements.NICA</code> &rarr; <strong>TBD: should NICA be treated like that, i.e. just a value in an input field?</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<script type="math/tex">PFE \text{ (potential future exposure)}= multiplier * AddOn^{aggregate}</script>, where:<ul>
<li>
<script type="math/tex">multiplier = min (1;0.05 + 0.95 * \exp(\frac{V-C}{2*0.95*AddOn^{aggregate}}))</script>
<ul>
<li>The <strong>multiplier</strong> ranges from its floor of 5% and 1. When over-collateralized (<script type="math/tex">V-C > 0</script>), the multiplier will decrease exponentially toward 5%. For under-collateralized netting set, the multiplier is 1 and <script type="math/tex">PFE = AddOn^{aggregate}</script>
</li>
</ul>
</li>
<li>
<script type="math/tex">AddOn^{aggregate} = \sum Addon^{AssetClass} = AddOn^{IR} + AddOn^{FX} + AddOn^{Credit} + AddOn^{Equity} + AddOn^{Commodity}</script>, where:<ul>
<li>The assignment of a transaction to its asset class can be done with the field <code>core_derivatives_calc.AssetClass</code></li>
<li>
<script type="math/tex">AddOn^{AssetClass} = \sum AddOn^{HedgingSet}</script>, where a hedging set is a group of positions within an asset class, where the grouping criteria depends on the the asset class:<ul>
<li><strong>Interest rate</strong>: same currency &rarr; <code>core_derivatives.UnderlyingCurrency, core_derivatives.RCurrency</code><ul>
<li>Within each hedging set, positions are further grouped by maturity bucket (<code>core_positions.MaturityDate</code>). Within each maturity bucket, a full offsetting of trade level exposures (SEN) is allowed:<ol>
<li>Lest than a year &rarr; <script type="math/tex">D^{B1} = \sum \text{SEN}_{\text{maturity bucket 1}}</script>
</li>
<li>Between 1 and 5 years &rarr; <script type="math/tex">D^{B2}=...</script>
</li>
<li>More than 5 years &rarr; <script type="math/tex">D^{B3}=...</script>
</li>
</ol>
</li>
<li>
<script type="math/tex">AddOn_{IR}^{HedgingSet - Currency_j} = \sqrt{(D^{B1})^2+(D^{B2})^2+(D^{B3})^2+1.4*D^{B1}*D^{B2}+1.4*D^{B2}*D^{B3}+0.6*D^{B1}*D^{B3}}</script>
</li>
</ul>
</li>
<li><strong>FX</strong>: same currency pair &rarr; <code>core_derivatives.UnderlyingCurrency - core_derivatives.QuoteCurrency</code> and <code>core_derivatives_swaps.RCurrency - core_derivatives_swaps.PCurrency</code>. Order by alphabetical orders the currencies in the pair, to avoid counting twice the same currency pair.<ul>
<li>
<script type="math/tex">AddOn_{FX}^{HedgingSet - \text{Currency pair}_j} = \sum{\text{SEN}_\text{Currency pair j}}</script>
</li>
</ul>
</li>
<li><strong>Credit</strong>: all positions are in the same hedging set<ul>
<li>Within each hedging set, positions are further grouped by reference entity (<code>core_derivatives.UnderlyingReferenceEntityId</code>). For each reference entity <script type="math/tex">i</script>, a full offsetting of trade level exposures (SEN) is allowed (<script type="math/tex">AddOn_{Entity}</script>).</li>
<li>
<script type="math/tex">AddOn^{Credit} = AddOn_{Credit}^{HedgingSet} = \sqrt{(\sum\rho_{Entity}*AddOn_{Entity})^2+\sum(1-\rho_{Entity}^2)*AddOn_{Entity}^2}</script>
<ul>
<li>
<script type="math/tex">\rho_{Entity}</script> is defined under Finma circ. 2017/07 cm 105.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Equity</strong>: all positions are in the same hedging set<ul>
<li>Within each hedging set, positions are further grouped by issuer (entity) (<code>core_derivatives.UnderlyingIssuerId</code>). For each issuer <script type="math/tex">i</script>, a full offsetting of trade level exposures (SEN) is allowed (<script type="math/tex">AddOn_{Entity}</script>).</li>
<li>
<script type="math/tex">AddOn^{Equity} = AddOn_{Equity}^{HedgingSet} = \sqrt{(\sum\rho_{Entity}*AddOn_{Entity})^2+\sum(1-\rho_{Entity}^2)*AddOn_{Entity}^2}</script>
<ul>
<li>
<script type="math/tex">\rho_{Entity}</script> is defined under Finma circ. 2017/07 cm 105.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Commodity</strong>:<ul>
<li>Positions are categorized into 4 hedging sets corresponding to <ins>groups of commodity</ins>: <ul>
<li>Energy &rarr; <code>list_commodities.TypeOf in ('CO','Coal','El','GC','LC','NG')</code></li>
<li>Metals &rarr; <code>list_commodities.TypeOf in ('Gold','NPM','PM')</code></li>
<li>Agricultural &rarr; <code>list_commodities.TypeOf in ('GO','LD','SOA')</code></li>
<li>Other commodities &rarr; <code>list_commodities.TypeOf in ('Freight','Other')</code></li>
</ul>
</li>
<li>Within each hedging set, positions are further grouped by <ins>type of commodity</ins> (<code>core_derivatives.UnderlyingCommodityId</code>). For each type <script type="math/tex">i</script>, a full offsetting of trade level exposures (SEN) is allowed (<script type="math/tex">AddOn_{\text{Commodity type}}</script>).</li>
<li>
<script type="math/tex">AddOn_{Commodity}^{HedgingSet -\text{Commodity group}} = \sqrt{(\sum\rho_{\text{Commodity type}}*AddOn_{\text{Commodity type}})^2+\sum(1-\rho_{\text{Commodity type}}^2)*AddOn_{\text{Commodity type}}^2}</script>
<ul>
<li>
<script type="math/tex">\rho_{Entity}</script> is defined under Finma circ. 2017/07 cm 105.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>Trade level exposure: Scaled Effective Notional (SEN)</strong><ul>
<li>
<script type="math/tex">SEN_i \text{(scaled effective notional)} = D_i\text{(effective notional)}_i * SF_i \text{(supervisory factor)}</script>, where:<ul>
<li>
<script type="math/tex">D_i\text{(effective notional)}_i = d_i\text{(adjusted notional)}_i * MF_i \text{ (maturity factor)} * delta_i</script>, where :<ul>
<li>
<script type="math/tex">d_i \text{ (adjusted notional)}</script>:<ul>
<li>For FX derivatives (<code>core_derivatives_calc.AssetClass = 'FX'</code>) &rarr; notional value of the foreign currency leg converted in functional currency. If both legs in foreign currency, take the highest one (<code>core_derivatives_calc.RCurrency, core_derivatives_calc.PCurrency, core_derivatives_calc.RAmount,core_derivatives_calc.PAmount</code>)<ul>
<li><strong>TBD</strong>: add fields RCurrency and PCurrency in core_derivatives_calc, and define calculation of fields RAmount and PAmount if not delivered</li>
<li><strong>Short term solution:</strong> <code>core_positions.Notional</code></li>
</ul>
</li>
<li>For equity and commodity derivatives (<code>core_derlivatives_calc.AssetClass in ('Eq','Co')</code>) &rarr; spot value of the underlying (<code>core_positions.Notional</code>)<ul>
<li>TBD: compute it using spot price, multiplier and number of components.</li>
</ul>
</li>
<li>For interest rate and credit derivatives (<code>core_derivatives_calc.AssetClass in ('IR','Cr')</code>) &rarr; <script type="math/tex">d_i = notional_i * SD_i</script>, where:<ul>
<li>
<script type="math/tex">notional_i</script> = <code>core_positions.Notional</code></li>
<li>
<script type="math/tex">SD_i \text{ (supervisory duration)} = max(\frac{\exp(-0.05*S_i)-\exp(-0.05*E_i)}{0.05};\frac{\text{10 business days}}{\text{250 business days}})</script>, where:<ul>
<li>
<script type="math/tex">S_i</script> = period of time in years, until the start of the time period of reference: <code>core_positions.StartDateReferencePeriod</code> (CRE52.31)</li>
<li>
<script type="math/tex">E_i</script> = period of time in years, until the end of the time period of reference: <code>core_positions.EndDateReferencePeriod</code> (CRE52.31)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<script type="math/tex">MF_i \text{ (Maturity factor)}</script>
<ul>
<li>Treatment for <strong>unmargined netting set</strong> (CRE52.48).<ul>
<li>
<script type="math/tex">MF_i^{unmargined} = \sqrt{\frac{min(M_i;365)}{365}}</script>, where:<ul>
<li>
<script type="math/tex">M_i = max(</script>
<code>core_positions_calc.ResidualDurationDays</code><script type="math/tex">;14)</script> &rarr; 14 because 10 business days + 2 weekend days.</li>
</ul>
</li>
</ul>
</li>
<li>Treatment for <strong>margined netting set</strong>.<ul>
<li>
<script type="math/tex">MF_i^{margined} = \frac{3}{2}\sqrt{\frac{MPOR_i}{\text{250}}}</script>, where:<ul>
<li>
<script type="math/tex">MPOR_i \text{(margin period of risk in days)} = D_{\text{Min. holding period}} + D_{\text{Re-margining period}} - 1</script>, where:<ul>
<li>
<script type="math/tex">D_{Min. holding period}</script> equals 10 if not centrally cleared transactions or 5 if centrally cleared (<code>list_counterparties.TypeOf in ('CCP1','CCP2','QCCP')</code>)</li>
<li>
<script type="math/tex">D_{\text{Re-margining period}}</script> equals the re-margining period in days<ul>
<li>1 if daily re-margining (<code>list_margin_agreements.RevaluationFrequency = 'D'</code>)</li>
<li>5 if weekly re-margining (<code>list_margin_agreements.RevaluationFrequency = 'W'</code>)</li>
</ul>
</li>
<li>Computed at netting set level (CRE52.50 / Fimna circ. 2017/07 cm 116-119)</li>
</ul>
</li>
<li>250 because <script type="math/tex">MPOR_i</script> in business days (unlike <script type="math/tex">M_i</script> for unmargined netting sets which uses 365 days)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<script type="math/tex">delta_i \text{ (supervisory delta)}</script>
<ul>
<li>Not options (CRE52.39):<ul>
<li>Not swaps:<ul>
<li><code>if core_positions.LongContractFlag = 1 then 1 else -1</code></li>
</ul>
</li>
<li>Swaps: <strong>TBD</strong></li>
</ul>
</li>
<li>Options (CRE52.40):<ul>
<li><img alt="" src="../docuImage/delta_option.png" /></li>
</ul>
</li>
<li>The cumulative distribution function is approximated using this formula (Aludaat and Alodat (2008)):
<script type="math/tex"> \Phi(x) = 0.5 + 0.5 * \sqrt(1 - \exp(-\sqrt(\frac{\pi}{8})*x^2 )) </script>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<script type="math/tex">SF_i \text{ (supervisory factor)}</script> &rarr; computed according to the Finma circ. 2017/07 cm 105.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>C</strong> = net collateral amount held (after haircut) = sum of received collateral - sum of paid collateral &rarr; can be positive or negative.<ul>
<li>The allocation of collateral to netting agreement in the SA-CCR is out of the scope of the regular CRM.</li>
<li>
<p>Distribution of collaterals to netting sets</p>
<ul>
<li>
<p><strong>Received collateral</strong>:</p>
<ul>
<li>The legal texts do not provide guidelines on how to distribute collaterals to netting sets.</li>
<li>Suggested simple strategy to distribute received collateral to netting sets:<ol>
<li>Complete the regular capital adequacy CRM</li>
<li>For any given counterparty which (a) trades derivatives and (b) still has unused collateral after the CRM: distribute the remaining collateral to each netting sets.<ul>
<li>The simplest strategy is to distribute the collateral to each netting set proportionally to the sum of an input field, such as the sum of the notional in the netting set (<code>core_positions.Notional</code>).</li>
<li>A more sophisticated approach could be a distribution proportional to the <script type="math/tex">AddOn^{aggregate}</script> (<code>tmp_cre_saccr_netting_set_level.AddOnAggregate</code>). This involves computing it first, before going forward with the rest of the EAD calculation.</li>
</ul>
</li>
</ol>
</li>
<li><strong>Adjusted haircut</strong>:<ul>
<li>As for collateral entering the CRM, collateral entering the SA-CCR calculation needs to be adapted: <script type="math/tex">H_M = H_N * sqrt(T_M/T_N)</script>, where <script type="math/tex">H_N</script> is the regulatory haircut defined under Finma circ. cm 209 and <script type="math/tex">T_N</script> equals 10 business days.</li>
<li>The adaptation will vary depending if there is a margin agreement in place or not<ul>
<li><strong>Without margin agreement</strong><ul>
<li>
<script type="math/tex">T_M = 250</script> (Finma circ. 2017/7 cm 110)</li>
<li>This means the haircut will be increased by <script type="math/tex">\sqrt(250/10)=5</script>. It can lead to haircut that are higher than 100%, in which case the collateral value should be 0 (and not negative).</li>
</ul>
</li>
<li><strong>With margin agreement</strong><ul>
<li>
<script type="math/tex">H_M = H_N * sqrt(MPOR/T_N)</script>
</li>
</ul>
</li>
</ul>
</li>
<li>As the notion of margin agreement won't be defined at the collateral level (only for margin accounts) or netting set level, but rather at the derivative/transaction level, I suggest the following logic to decide on which adaptation to apply:<ul>
<li>Look at the MPOR (margin period of risk) of all derivatives in a netting set which is calculated in <code>core_derivatives_calc_lc.MPOR</code>:<ul>
<li>If one of the MPOR of the netting set = 0 (no margin agreement) set <script type="math/tex">T_M</script> to 250 as described above</li>
<li>Otherwise, take the max value of MPOR.</li>
</ul>
</li>
<li>Note: this is a simplification. A more sophisticated method could be to look at the margin agreement information of all collaterals, and compute a corresponding MPOR if applicable.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Posted collateral</strong>:</p>
<ul>
<li>So far, we will only cover margin accounts as posted collaterals, which can be recognized as: <code>core_positions_calc.AccountGroupLevel1 in ('DueFromBanks','DueFromCustomer') and core_positions.SubType = 'LDasGuarantee'</code></li>
<li>This positions increase the EAD, so to avoid double-counting, their exposure should be set to 0 (<code>core_positions_calc.CAExposure</code> and/or <code>core_positions__calc.LEXExposure</code>). Consequently, they should also not enter the CRM (set <code>core_positions_calc.CAExposureFlag = 0</code> ?).</li>
<li><em>Simplification: so far, haircuts are not applied on posted collaterals</em></li>
<li>The distribution to netting agreement is done in the same way as for collateral received.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="not-covered-yet">Not covered yet:</h2>
<ul>
<li>Basis transactions</li>
<li>CDO tranches</li>
<li>Volatility derivatives</li>
</ul>
<h2 id="some-definitions">Some definitions</h2>
<ul>
<li><strong>Independant collateral amount (ICA)</strong> = <em>(i) collateral (other than VM) posted by the counterparty that the bank may seize upon default of the counterparty, the amount of which does not change in response to the value of the transactions it secures and/or (ii) the Independent Amount (IA) parameter as defined in standard industry documentation. ICA can change in response to factors such as the value of the collateral or a change in the number of transactions in the netting set.</em> (CRE52.16)</li>
<li><strong>Net independent collateral amount (NICA)</strong> = <em>Because both a bank and its counterparty may be required to post ICA, it is necessary to introduce a companion term, net independent collateral amount (NICA), to describe the amount of collateral that a bank may use to offset its exposure on the default of the counterparty. NICA does not include collateral that a bank has posted to a segregated, bankruptcy remote account, which presumably would be returned upon the bankruptcy of the counterparty. That is, NICA represents any collateral (segregated or unsegregated) posted by the counterparty less the unsegregated collateral posted by the bank. With respect to IA, NICA takes into account the differential of IA required for the bank minus IA required for the counterparty.</em> (CRE52.17)</li>
<li><strong>Holding period</strong> = <em>The period of time over which exposure or collateral values are assumed to move before the bank can close out the transaction.</em> (CRE22.41)</li>
<li><strong>Margin period of risk</strong> = <em>Margin period of risk is the time period from the last exchange of collateral covering a netting set of transactions with a defaulting counterparty until that counterparty is closed out and the resulting market risk is re-hedged.</em> (CRE50.19)</li>
<li><strong>Re-margining period</strong> = </li>
</ul>
<h2 id="some-conceptsprecisions">Some concepts/precisions</h2>
<ul>
<li>A derivative outside a <strong>netting agreement</strong> will consist of a netting set on its own.</li>
<li>The <strong>netting agreement</strong> sets the rules for the exchange of a net amount for positions within the agreement in case a counterparty defaults.</li>
<li>If margin calls are exchanged along the life of the contracts, the <strong>margin agreement</strong> sets amongst other things the remargining frequency. It will impact the margin period of risk (MPOR) which in turn impact the maturity factor (MF). It is expected that the margin agreement and netting agreement are aligned: in essence, one remargining frequency in a netting set. The case where the margin and netting set do not match described in cm 40 is not supported.</li>
</ul>
<h2 id="output-tablesfields">Output tables/fields</h2>
<h3 id="v_cre_saccr_netting_set_level">v_cre_saccr_netting_set_level</h3>
<ul>
<li>Id &rarr; Netting set id</li>
<li>NettingAgreementFlag &rarr; 1 if recognized netting agreement in place</li>
<li>EAD</li>
<li>RC</li>
<li>PFE</li>
<li>Multiplier</li>
<li>AddOnAggregate</li>
</ul>
<h3 id="v_cre_saccr_fx_hedging_set_level">v_cre_saccr_fx_hedging_set_level</h3>
<ul>
<li>Id &rarr; Hedging set id (currency pair)</li>
<li>NettingAgreementId</li>
<li>AddOnHedgingSet</li>
</ul>
<h3 id="v_cre_saccr_eq_hedging_set_level">v_cre_saccr_eq_hedging_set_level</h3>
<ul>
<li>Id &rarr; Hedging set id (issuer)</li>
<li>NettingAgreementId</li>
<li>AddOnHedgingSet</li>
</ul>
<h3 id="v_cre_saccr_eq_sub_hedging_set_level">v_cre_saccr_eq_sub_hedging_set_level</h3>
<ul>
<li>Id &rarr; Sub hedging set id (issuer)</li>
<li>NettingAgreementId</li>
<li>AddOnSubHedgingSet</li>
<li>Rho</li>
</ul>
<h3 id="v_cre_saccr_co_sub_hedging_set_level">v_cre_saccr_co_sub_hedging_set_level</h3>
<ul>
<li>Id &rarr; Sub Hedging set id (commodity type)</li>
<li>HedgingSetId</li>
<li>NettingAgreementId</li>
<li>AddOnSubHedgingSet</li>
<li>Rho</li>
</ul>
<h3 id="v_cre_saccr_ir_hedging_set_level">v_cre_saccr_ir_hedging_set_level</h3>
<ul>
<li>Id &rarr; Hedging set id (currency)</li>
<li>NettingAgreementId</li>
<li>AddOnHedgingSet</li>
<li>DB1</li>
<li>DB2</li>
<li>DB3</li>
</ul>
<h3 id="v_cre_saccr_cr_hedging_set_level">v_cre_saccr_cr_hedging_set_level</h3>
<ul>
<li>Id &rarr; EQ or CR</li>
<li>NettingAgreementId</li>
<li>AddOnHedgingSet</li>
</ul>
<h3 id="v_cre_saccr_co_hedging_set_level">v_cre_saccr_co_hedging_set_level</h3>
<ul>
<li>Id &rarr; Hedging set id (commodity group)</li>
<li>NettingAgreementId</li>
<li>AddOnHedgingSet</li>
</ul>
<h3 id="v_cre_saccr_cr_sub_hedging_set_level">v_cre_saccr_cr_sub_hedging_set_level</h3>
<ul>
<li>Id &rarr; Sub hedging set id (reference entity)</li>
<li>NettingAgreementId</li>
<li>AddOnSubHedgingSet</li>
<li>Rho</li>
</ul>
<h3 id="core_derivatives_calc">core_derivatives_calc</h3>
<ul>
<li>Computed in rules:<ul>
<li>NettingSetId</li>
<li>SF</li>
<li>SupervisoryVolatility</li>
<li>SupervisoryRho</li>
</ul>
</li>
<li>Computed in views:<ul>
<li>SubHedgingSetId</li>
<li>HedgingSetId</li>
<li>EffectiveNotional</li>
<li>AdjustedNotional</li>
<li>MF</li>
<li>MPOR</li>
<li>SupervisoryDelta</li>
<li>SD</li>
<li>SEN = <strong>trader level exposure</strong></li>
</ul>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../Doc_CEM/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Current exposure method">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Current exposure method
              </div>
            </div>
          </a>
        
        
          
          <a href="../Doc_CVA/" class="md-footer__link md-footer__link--next" aria-label="Next: Credit valuation adjustment">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Credit valuation adjustment
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Quadrum SA
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer"], "search": "../../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.56dfad97.min.js"></script>
      
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
      
    
  </body>
</html>